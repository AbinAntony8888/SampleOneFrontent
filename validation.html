<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <form>
            Password:<br>
            <input type="password" name="password" id="password"><br>
            email:<br>
            <input type="email" name="email" id="email"><br>
            <input type="submit" value="submit" id="submit">
        </form>
        <script>
            function updateCSSClass(a, b) {

}
function checkfnlname(field) {
  curr = document.getElementById(field).value;
  if (curr.length > 0) {
    updateCSSClass(field, 1);
    return true;
  } else {
    updateCSSClass(field, 0);
    return false;
  }
}
window.onload = function () {
  var btnSubmit = document.getElementById('submit');
  btnSubmit.setAttribute('disabled', 'disabled');

  [].slice.call(document.querySelectorAll('form input:not([type="submit"])')).forEach(function (element, index) {
    element.addEventListener('keyup', function (e) {
      var invalidFields = [].slice.call(document.querySelectorAll('form input:not([type="submit"])')).filter(function (element, index) {
        return !checkfnlname(element.id);
      });
      if (invalidFields.length == 0) {
        btnSubmit.removeAttribute('disabled');
      } else {
        btnSubmit.setAttribute('disabled', 'disabled');
      }
    }, false);
  });
}

        </script>
    </body>
</html>